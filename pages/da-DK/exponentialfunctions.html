<div class="page">
    <div class="content">
        <h1>Eksponentialfunktioner</h1>
        <p>
            En eksponentialfunktion er en funktion af typen $f(x) = b \cdot a^x$. Dens graf er en kurve når tegnet i et lineært koordinatsystem og en ret linje i et semi-logaritmisk koordinatsystem. Altså, en givet <em>absolut</em> vækst i $x$ resulterer i en givet <em>relativ</em> ændring i $y$: $y_2 = y_1 \cdot a^{\Delta x}$.
        </p>
        <p>
            Eksponentialfunktioner er brugt til at beskrive en sammenhæng hvor $f$ ændres med en relativ mængde (en procentsats) for hver $x$; $f$ og $x$ er eksponentialt proportionale.
        </p>
        <p>
            Grafen af en eksponentialfunktion vil altid ligge over $x$-aksen, eftersom $a > 0$ og $b > 0$. Ligeledes vil grafen aldrig have $f(x) = 0$, ikke engang for funktioner med $b &lt; 1$ eftersom ændringen er relativ (modsat i <a href="linearfunctions">lineære funktioner</a> hvor den er absolut). Den kommer uendeligt tæt på 0, men den vil aldrig være 0, eftersom $\frac{n}{2} \neq 0$ når $n \neq 0$. Dette er kaldet en <em>asymptot</em> graf.
        </p>

        <h2>Betydning af konstanter</h2>
        <dl>
            <dt>$b$</dt>
            <dd>
                Forskydningen på/skæringen med $y$-aksen. Dikterer funktionsværdien når $x = 0$ eftersom $f(0) = b \cdot a^0 = b \cdot 1 = b$. Begrænset til $b > 0$.
            </dd>
            <dt>$a$</dt>
            <dd>
                Den relative decimalændring af $f$ for hver $x$. Begrænset til $a \in \left]0; 1\right[\ \cup\ \left]1; \infty\right[$. Funktionen vokster når $b > 1$ og falder når $b &lt; 1$. En vækst på 20% for hver $x$ ville have $b = 1,2$, hvorimod et fald på 20% ville have $b = (1 - 0,2) = 0,8$.
            </dd>
        </dl>

        <h2>Fordoblings- og halveringskonstanter</h2>
        <p>
            Når man taler om en eksponentialfunktion, så er den såkaldte <em>fordoblingskonstant</em> $T_2$ og <em>halveringskonstant</em> $T_{\frac{1}{2}}$ er brugt til at udtrykke den absolutte vækst i $x$ for at $f$, respektivt, fordoble eller halvere.
        </p>
        <p>
            Mere generelt så taler vi om den absolutte tilvækst krævet i $x$ for at $y$ bliver $n$ størrelsen af $T_n$.
        </p>
        <p>
            Du kan finde formularerne for fordoblings- og halveringskonstanterne samt den generelle definition i <a href="#formulae">formularsektionen</a>.
        </p>
        <p>
            Du kan afprøve eksponentielle funktioner med den nedenstående interaktive illustration for at få en visualisering af betydningen af hver af konstanterne og deres sammenhæng med den resulterende graf:
        </p>
        <div id="exponential-graph-visualiser" class="hor-box margin-box">
            <div class="graph"></div>
            <div class="graph-controls">
                <div class="graph-input" data-name = "a" data-min="0.01" data-max="10">
                    <span>$b = $ <input type="number"></span>
                    <input type="range">
                </div>
                <div class="graph-input" data-name = "b" data-min="0.01" data-max="5">
                    <span>$a = $ <input type="number"></span>
                    <input type="range">
                </div>
                <div class="graph-option">
                    <p>
                        Coordinate system
                    </p>
                    <label><input type="radio" name="exponential-graph-visualiser-coordinate-system" value="linear" checked> Lineær</label><br>
                    <label><input type="radio" name="exponential-graph-visualiser-coordinate-system" value="semilog"> Semi-logaritmisk</label>
                </div>
            </div>
        </div>

        <h2 id="formulae">Formularer</h2>
        <div class="formulae">
            <div>
                <div class="formula">
                    \[
                        a = \sqrt[\Delta x]{\frac{y_2}{y_1}}
                    \]
                </div>
                <div class="description">
                    <p>
                        Du kan finde den relative ændring $a$ givet to koordinater $(x_1; y_1)$ og $(x_2; y_2)$ på den samme graf.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        Vi laver to ligninger udfra de to punkter:
                    </p>
                    <p>
                        \[
                            y_2 = b \cdot a^{x_2} \enspace \text{ og } \enspace y_1 = b \cdot a^{x_1}
                        \]
                    </p>
                    <p>
                        Vi dividerer den første ligning med den anden:
                    </p>
                    <p>
                        \[
                            \begin{array}{rcl}
                                \frac{y_2}{y_1}                  &amp; = &amp; \frac{b \cdot a^{x_2}}{b \cdot a^{x_1}}   \\[1em]
                                &amp; \Updownarrow &amp; \text{Forkort med }b.                                           \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; \frac{a^{x_2}}{a^{x_1}}                   \\[1em]
                                &amp; \Updownarrow &amp; \text{Se }*                                                     \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; a^{x_2 - x_1}                             \\[.5em]
                                &amp; \Updownarrow &amp;                                                                 \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; a^{\Delta x}                              \\[1em]
                                &amp; \Updownarrow &amp; \Delta x \text{ rod.}                                           \\[.5em]
                                \sqrt[\Delta x]{\frac{y_2}{y_1}} &amp; = &amp; a
                            \end{array}
                        \]
                    </p>
                    <dl>
                        <dt>*</dt>
                        <dd>
                            $\frac{a^r}{a^s} = a^{r - s}$.
                        </dd>
                    </dl>
                </div>
            </div>
            <div>
                <div class="formula">
                    \[
                        a = \frac{y}{b^x}
                    \]
                </div>
                <div class="description">
                    <p>
                        Du kan finde forskydningen $b$ givet den relative ændring $a$ og et punkt på grafen $(x; y)$.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        \[
                            \begin{array}{rcl}
                                y             &amp; = &amp; b \cdot a^x          \\[.5em]
                                &amp; \Updownarrow &amp; \text{Divider med }a^x. \\
                                \frac{y}{a^x} &amp; = &amp; b
                            \end{array}
                        \]
                    </p>
                </div>
            </div>
            <div>
                <div class="formula">
                    \[
                        T_n = \frac{\log n}{\log a}
                    \]
                </div>
                <div class="description">
                    <p>
                        Du kan finde den absolutte vækst i $x$ når $y$ bliver $ny$ (fx fordoblingskonstanten $T_2$ eller halveringskonstanten $T_{\frac{1}{2}}$) givet den relative ændring $a$.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        Vi ved at grafen for funktionen skærer $y$-aksen i $(0, b)$. $T_n$ er defineret som den absolutte tilvækst i $x$ nødvendig for at $y$ bliver $n$ sin størrelse. Dermed hvis vi deklarerer at $\Delta x = T_n$ og at vores basispunkt er $(0; a)$ så må vores sekundære punkt være $(T_N; nb)$.
                    </p>
                    <p>
                        Så for at opsummere: Vi har $f(T_n) = nb$.
                    </p>
                    <p>
                        \[
                            \begin{array}{rcl}
                                f(T_n)           &amp; = &amp; nb                                        \\[.5em]
                                &amp; \Updownarrow &amp; \text{Erstat funktion med dens definition.}     \\[.5em]
                                ba^{T_n}         &amp; = &amp; nb                                        \\[.5em]
                                &amp; \Updownarrow &amp; \text{Divider med }b.                           \\[.5em]
                                a^{T_n}          &amp; = &amp; n                                         \\[.5em]
                                &amp; \Updownarrow &amp; \text{Benyt logaritmer.}                        \\[.5em]
                                \log(a^{T_n})    &amp; = &amp; \log n                                    \\[.5em]
                                &amp; \Updownarrow &amp; \text{Se } *                                    \\[.5em]
                                T_n \cdot \log a &amp; = &amp; \log n                                    \\[1em]
                                &amp; \Updownarrow &amp; \text{Divider med }\log a.                      \\[1em]
                                T_n              &amp; = &amp; \frac{\log n}{\log a}
                            \end{array}
                        \]
                    </p>
                    <dl>
                        <dt>*</dt>
                        <dd>
                            $\log(a^r) = r \cdot \log a$.
                        </dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
    <div class="toc"></div>
</div>
<script>
    (function() {
        var T2StringLong   = katex.renderToString('\\leftarrow T_2 \\rightarrow');
        var T2StringShort  = katex.renderToString('T_2');

        var T12StringLong  = katex.renderToString('\\leftarrow T_{\\frac{1}{2}} \\rightarrow');
        var T12StringShort = katex.renderToString('T_{\\frac{1}{2}}');

        var plus100StringLong  = katex.renderToString('\\begin{array}{c} \\uparrow \\\\ +100\\% \\end{array}');
        var plus100StringShort = katex.renderToString('+100\\%');

        var minus50String      = katex.renderToString('-50\\%');


        var exponentialGraph = new InteractiveGraph({
            plotOptions: {
                target: "#exponential-graph-visualiser > .graph",
                data: [{
                    fn: '2^x',
                    graphOptions: {
                        sampler: 'builtIn',
                        type: 'line'
                    }
                }],
                width:  650,
                height: 400,
                disableZoom: true,
                xLabel: 'x-akse',
                yLabel: 'y-akse',
                xDomain: [-2, 6],
                yDomain: [-1, 7]
            },
            defaultValues: {
                a: 1,
                b: 2
            },
            inputSelector: '#exponential-graph-visualiser > .graph-controls > .graph-input',
            fn: '%a * %b^x',
            coordinateSystemSelector: 'input[name=exponential-graph-visualiser-coordinate-system]',


            initialDrawCb: function(graph, canvas, htmlOverlay, values, line, coords, size, coordinateSystem) {
                // a text
                var aText = document.createElement('div');
                aText.classList.add('aText');
                aText.classList.add('v-center');
                aText.innerHTML = katex.renderToString('(0, b)');
                aText.style.left = coords.x(0) - 55 + 'px';
                htmlOverlay.appendChild(aText);


                // a dot
                var aDot = document.createSVGElement('circle');
                aDot.classList.add('aDot');
                aDot.setAttribute('cx', coords.x(0));
                aDot.setAttribute('r', 3);
                canvas.appendChild(aDot);


                // T_n x
                var Tnx = document.createElement('div');
                Tnx.classList.add('Tnx');
                Tnx.classList.add('v-center');
                Tnx.classList.add('h-center');
                htmlOverlay.appendChild(Tnx);


                // T_n y
                var Tny = document.createElement('div');
                Tny.classList.add('Tny');
                Tny.classList.add('v-center');
                Tny.classList.add('h-center');
                htmlOverlay.appendChild(Tny);


                // T_n line
                var TnLineG = document.createSVGElement('g');
                var TnLine  = document.createSVGElement('path');
                TnLine.classList.add('TnLine');
                TnLine.setAttribute('stroke',           'black');
                TnLine.setAttribute('opacity',          .75);
                TnLine.setAttribute('stroke-dasharray', '5,5');
                TnLine.setAttribute('fill',             'none');

                TnLineG.appendChild(TnLine);
                canvas.appendChild(TnLineG);
            },


            postDrawCb: function(graph, canvas, htmlOverlay, values, line, coords, size, coordinateSystem) {
                var fn = function(x) {
                    return values.a * Math.pow(values.b, x);
                };


                // a text
                var aText = htmlOverlay.querySelector(':scope .aText');
                aText.style.top = coords.y(values.a) - 10 + 'px';


                // a dot
                var aDot = canvas.querySelector(':scope .aDot');
                aDot.setAttribute('cy', coords.y(values.a));


                // T_n x
                var Tnx = htmlOverlay.querySelector(':scope .Tnx');
                var Tn;
                if (values.b > 1) {
                    var T2 = Tn = Math.log(2) / Math.log(values.b);

                    if (size.w(T2) >= 70)
                        Tnx.innerHTML = T2StringLong;
                    else
                        Tnx.innerHTML = T2StringShort;

                    Tnx.style.top = coords.y(fn(1)) + 5 + 'px';
                }
                else {
                    var T12 = Tn = Math.log(.5) / Math.log(values.b);

                    if (size.w(T12) >= 70)
                        Tnx.innerHTML = T12StringLong;
                    else
                        Tnx.innerHTML = T12StringShort;

                    Tnx.style.top = coords.y(fn(1)) - 34 + 'px';
                }
                Tnx.style.left  = coords.x(1) + 'px';
                Tnx.style.width = Math.max(size.w(Tn), 21) + 'px';


                // T_n y
                var Tny = htmlOverlay.querySelector(':scope .Tny');
                if (values.b > 1) {
                    if (size.h(fn(1 + Tn) - fn(1), fn(1)) >= 70) {
                        Tny.innerHTML  = plus100StringLong;
                        Tny.style.top  = coords.y(fn(1 + Tn)) - 10 + 'px';
                        Tny.style.left = coords.x(1 + Tn)          + 'px';
                    }
                    else {
                        Tny.innerHTML  = plus100StringShort;
                        Tny.style.top  = coords.y(fn(1 + Tn))      + 'px';
                        Tny.style.left = coords.x(1 + Tn)     + 10 + 'px';
                    }
                }
                else {
                    Tny.innerHTML = minus50String;

                    Tny.style.top  = coords.y(fn(1))       + 'px';
                    Tny.style.left = coords.x(1 + Tn) + 10 + 'px';
                }

                Tny.style.height = size.h(fn(1 + Tn) - fn(1), fn(1)) + 'px';


                // T_n line
                var TnLine = canvas.querySelector(':scope .TnLine');
                TnLine.setAttribute('d', line([
                    [1,      fn(1)],
                    [1 + Tn, fn(1)],
                    [1 + Tn, fn(1 + Tn)]
                ]));
            }
        });
    })();
</script>
