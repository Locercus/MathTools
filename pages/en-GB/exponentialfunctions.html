<div class="page">
    <div class="content">
        <h1>Exponential functions</h1>
        <p>
            An exponential function is a function of the type $f(x) = a \cdot b^x$. Its graph is a straight line when drawn in a semi-logarithmic coordinate system. Thus, an equal <em>absolute</em> growth in the $x$ value results in an equal <em>relative</em> growth in $y$: $y_2 = y_1 \cdot b^{\Delta x}$.
        </p>
        <p>
            Exponential functions are used to describe a relationship where $f$ changes by a relative amount (a percentage) for every $x$; $f$ and $x$ are exponentially proportional.
        </p>
        <p>
            The graph of exponential functions will always lie above the $x$ axis, as $a > 0$ and $b > 0$. Similarly, the graph will never have $f(x) = 0$, even for functions with $b &lt; 1 $ as the change is relative (unlike in <a href="linearfunctions">linear functions</a> where it's absolute). It'll get infinitely close to 0 but it'll never be 0, as $\frac{n}{2} \neq 0$ when $n \neq 0$.
        </p>

        <h2>Significance of constants</h2>
        <dl>
            <dt>$a$</dt>
            <dd>
                The offset on/intersection with the $y$ axis. Dictates the function value when $x = 0$, as $f(0) = a \cdot b^0 = a \cdot 1 = a$. Limited to $a > 0$.
            </dd>
            <dt>$b$</dt>
            <dd>
                The relative decimal growth of $f$ for every $x$. Limited to $b \in \left]0; 1\right[\ \cup\ \left]1; \infty\right[$. The function grows when $b > 1$ and shrinks when $b &lt; 1$. A growth of 20% for every $x$ would have $b = 1.2$, whereas a decrease of 20% would have $b = 0.2$.
            </dd>
        </dl>

        <h2>Doubling and halving constants</h2>
        <p>
            When speaking of an exponential function, the so-called <em>doubling constant</em> $T_2$ and <em>halving constant</em> $T_{\frac{1}{2}}$ are used to express the absolute growth in $x$ needed for $f$ to, respectively, double or halve.
        </p>
        <p>
            More generally we can speak of the absolute increase needed in $x$ for $y$ to become $n$ the size as $T_n$.
        </p>
        <p>
            You can find the formulae for the doubling and halving constants as well as the general definition in <a href="#formulae">the formula section</a>.
        </p>
        <p>
            You can try out exponential functions with the below interactive illustration to get a visualisation of the significance of each of the constants and their correlation to the resulting graph:
        </p>
        <div id="exponential-graph-visualiser" class="hor-box margin-box">
            <div class="graph"></div>
            <div class="graph-controls">
                <div class="graph-input" data-name = "a" data-min="0.01" data-max="10">
                    <span>$a = $ <input type="number"></span>
                    <input type="range">
                </div>
                <div class="graph-input" data-name = "b" data-min="0.01" data-max="5">
                    <span>$b = $ <input type="number"></span>
                    <input type="range">
                </div>
            </div>
        </div>

        <h2 id="formulae">Formulae</h2>
        <div class="formulae">
            <div>
                <div class="formula">
                    \[
                        b = \sqrt[\Delta x]{\frac{y_2}{y_1}}
                    \]
                </div>
                <div class="description">
                    <p>
                        You can find the relative change $b$ given two coordinates $(x_1, y_1)$ and $(x_2, y_2)$ on the same graph.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        We create two equations from the two points:
                    </p>
                    <p>
                        \[
                            y_2 = a \cdot b^{x_2} \enspace \text{ and } \enspace y_1 = a \cdot b^{x_1}
                        \]
                    </p>
                    <p>
                        We divide the first equation by the second:
                    </p>
                    <p>
                        \[
                            \begin{array}{rcl}
                                \frac{y_2}{y_1}                  &amp; = &amp; \frac{a \cdot b^{x_2}}{a \cdot b^{x_1}}   \\[1em]
                                &amp; \Updownarrow &amp; \text{Reduce by }a.                                             \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; \frac{b^{x_2}}{b^{x_1}}                   \\[1em]
                                &amp; \Updownarrow &amp; *                                                               \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; b^{x_2 - x_1}                             \\[.5em]
                                &amp; \Updownarrow &amp;                                                                 \\[.5em]
                                \frac{y_2}{y_1}                  &amp; = &amp; b^{\Delta x}                              \\[1em]
                                &amp; \Updownarrow &amp; \Delta x \text{ root.}                                          \\[.5em]
                                \sqrt[\Delta x]{\frac{y_2}{y_1}} &amp; = &amp; b
                            \end{array}
                        \]
                    </p>
                    <dl>
                        <dt>*</dt>
                        <dd>
                            $\frac{a^r}{a^s} = a^{r - s}$.
                        </dd>
                    </dl>
                </div>
            </div>
            <div>
                <div class="formula">
                    \[
                        a = \frac{y}{b^x}
                    \]
                </div>
                <div class="description">
                    <p>
                        You can find the offset $a$ given the relative change $b$ and a point on the graph $(x, y)$.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        \[
                            \begin{array}{rcl}
                                y             &amp; = &amp; a \cdot b^x          \\[.5em]
                                &amp; \Updownarrow &amp; \text{Divide by }b^x.   \\
                                \frac{y}{b^x} &amp; = &amp; a
                            \end{array}
                        \]
                    </p>
                </div>
            </div>
            <div>
                <div class="formula">
                    \[
                        T_n = \frac{\log n}{\log b}
                    \]
                </div>
                <div class="description">
                    <p>
                        You can find the absolute growth in $x$ when $y$ becomes $ny$ (i.e. the doubling constant $T_2$ or the halving constant $T_{\frac{1}{2}}$) given the relative change $b$.
                    </p>
                </div>
                <div class="proof">
                    <p>
                        We know that the graph of the function intersects with the $y$ axis at $(0, a)$. $T_n$ is defined as the absolute increase in $x$ for $y$ to become $n$ the size. Thus if we declare that $\Delta x = T_n$ and our base point is $(0, a)$ then our second point must be $(T_n, na)$.
                    </p>
                    <p>
                        So to sum up: We have $f(T_n) = na$.
                    </p>
                    <p>
                        \[
                            \begin{array}{rcl}
                                f(T_n)           &amp; = &amp; na                                        \\[.5em]
                                &amp; \Updownarrow &amp; \text{Replace the function by its definition.}  \\[.5em]
                                ab^{T_n}         &amp; = &amp; na                                        \\[.5em]
                                &amp; \Updownarrow &amp; \text{Divide by }a.                             \\[.5em]
                                b^{T_n}          &amp; = &amp; n                                         \\[.5em]
                                &amp; \Updownarrow &amp; \text{Apply logarithms.}                        \\[.5em]
                                \log(b^{T_n})    &amp; = &amp; \log n                                    \\[.5em]
                                &amp; \Updownarrow &amp; *                                               \\[.5em]
                                T_n \cdot \log b &amp; = &amp; \log n                                    \\[1em]
                                &amp; \Updownarrow &amp; \text{Divide by }\log b.                        \\[1em]
                                T_n              &amp; = &amp; \frac{\log n}{\log b}
                            \end{array}
                        \]
                    </p>
                    <dl>
                        <dt>*</dt>
                        <dd>
                            $\log(a^r) = r \cdot \log a$.
                        </dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
    <div class="toc"></div>
</div>
<script>
    (function() {
        var T2StringLong   = katex.renderToString('\\leftarrow T_2 \\rightarrow');
        var T2StringShort  = katex.renderToString('T_2');

        var T12StringLong  = katex.renderToString('\\leftarrow T_{\\frac{1}{2}} \\rightarrow');
        var T12StringShort = katex.renderToString('T_{\\frac{1}{2}}');

        var plus100StringLong  = katex.renderToString('\\begin{array}{c} \\uparrow \\\\ +100\\% \\end{array}');
        var plus100StringShort = katex.renderToString('+100\\%');

        var minus50String      = katex.renderToString('-50\\%');


        var exponentialGraph = new InteractiveGraph({
            plotOptions: {
                target: "#exponential-graph-visualiser > .graph",
                data: [{
                    fn: '2^x',
                    graphOptions: {
                        sampler: 'builtIn',
                        type: 'line'
                    }
                }],
                width:  650,
                height: 400,
                disableZoom: true,
                xLabel: 'x axis',
                yLabel: 'y axis',
                xDomain: [-2, 6],
                yDomain: [-1, 7]
            },
            defaultValues: {
                a: 1,
                b: 2
            },
            inputSelector: '#exponential-graph-visualiser > .graph-controls > .graph-input',
            fn: '%a * %b^x',


            initialDrawCb: function(graph, canvas, htmlOverlay, values, line, coords, size) {
                // a text
                var aText = document.createElement('div');
                aText.classList.add('aText');
                aText.classList.add('v-center');
                aText.innerHTML = katex.renderToString('(0, a)');
                aText.style.left = coords.x(0) - 55 + 'px';
                htmlOverlay.appendChild(aText);


                // a dot
                var aDot = document.createSVGElement('circle');
                aDot.classList.add('aDot');
                aDot.setAttribute('cx', coords.x(0));
                aDot.setAttribute('r', 3);
                canvas.appendChild(aDot);


                // T_n x
                var Tnx = document.createElement('div');
                Tnx.classList.add('Tnx');
                Tnx.classList.add('v-center');
                Tnx.classList.add('h-center');
                htmlOverlay.appendChild(Tnx);


                // T_n y
                var Tny = document.createElement('div');
                Tny.classList.add('Tny');
                Tny.classList.add('v-center');
                Tny.classList.add('h-center');
                htmlOverlay.appendChild(Tny);


                // T_n line
                var TnLineG = document.createSVGElement('g');
                var TnLine  = document.createSVGElement('path');
                TnLine.classList.add('TnLine');
                TnLine.setAttribute('stroke',           'black');
                TnLine.setAttribute('opacity',          .75);
                TnLine.setAttribute('stroke-dasharray', '5,5');
                TnLine.setAttribute('fill',             'none');

                TnLineG.appendChild(TnLine);
                canvas.appendChild(TnLineG);
            },


            postDrawCb: function(graph, canvas, htmlOverlay, values, line, coords, size) {
                var fn = function(x) {
                    return values.a * Math.pow(values.b, x);
                };


                // a text
                var aText = htmlOverlay.querySelector(':scope .aText');
                aText.style.top = coords.y(values.a) - 10 + 'px';


                // a dot
                var aDot = canvas.querySelector(':scope .aDot');
                aDot.setAttribute('cy', coords.y(values.a));


                // T_n x
                var Tnx = htmlOverlay.querySelector(':scope .Tnx');
                var Tn;
                if (values.b > 1) {
                    var T2 = Tn = Math.log(2) / Math.log(values.b);

                    if (size.w(T2) >= 70)
                        Tnx.innerHTML = T2StringLong;
                    else
                        Tnx.innerHTML = T2StringShort;

                    Tnx.style.top = coords.y(fn(1)) + 5 + 'px';
                }
                else {
                    var T12 = Tn = Math.log(.5) / Math.log(values.b);

                    if (size.w(T12) >= 70)
                        Tnx.innerHTML = T12StringLong;
                    else
                        Tnx.innerHTML = T12StringShort;

                    Tnx.style.top = coords.y(fn(1)) - 34 + 'px';
                }
                Tnx.style.left  = coords.x(1) + 'px';
                Tnx.style.width = Math.max(size.w(Tn), 21) + 'px';


                // T_n y
                var Tny = htmlOverlay.querySelector(':scope .Tny');
                if (values.b > 1) {
                    if (size.h(fn(1 + Tn) - fn(1)) >= 70) {
                        Tny.innerHTML  = plus100StringLong;
                        Tny.style.top  = coords.y(fn(1 + Tn)) + 'px';
                        Tny.style.left = coords.x(1 + Tn)     + 'px';
                    }
                    else {
                        Tny.innerHTML  = plus100StringShort;
                        Tny.style.top  = coords.y(fn(1 + Tn)) + 10 + 'px';
                        Tny.style.left = coords.x(1 + Tn)     + 10 + 'px';
                    }
                }
                else {
                    Tny.innerHTML = minus50String;

                    Tny.style.top  = coords.y(fn(1))       + 'px';
                    Tny.style.left = coords.x(1 + Tn) + 10 + 'px';
                }

                Tny.style.height = size.h(fn(1 + Tn) - fn(1)) + 'px';


                // T_n line
                var TnLine = canvas.querySelector(':scope .TnLine');
                TnLine.setAttribute('d', line([
                    [1,      fn(1)],
                    [1 + Tn, fn(1)],
                    [1 + Tn, fn(1 + Tn)]
                ]));
            }
        });
    })();
</script>
